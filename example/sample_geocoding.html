<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>Javascript geo sample</title>
	
		<script src="http://code.google.com/apis/gears/gears_init.js"></script>
		<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script src="../src/util.js"></script>
		<script src="../src/geo.js"></script>
	</head>	
	<body>
		<script>
			if (Geo.init()) {
				// set your Flickr API key
				Geo.CodingProvider.Flickr.apiKey = 'your_api_key';
				
				// set your geonames.org username
				Geo.CodingProvider.GeoNames.username = 'your_user_name';
				
				// get the current position
				Geo.getCurrentPosition(success_callback, error_callback);

				function success_callback(p) {
					p.geocode(function() {
						console.log(p);
					});
				}
		
				function error_callback(p) {
					console.log(p);
				}

				// Manual geocoding
				var position = new Geo.Position({latitude: 48.833, longitude: 2.333});
				position.geocode(function(addr) {
					console.log(position);
					console.log(addr);
				}, 'Flickr');
			}
		</script>
	</body>
</html>
